# network

## protocol

- 디바이스간 데이터를 교환하기 위한 통신 규약
- IETF (Internet Engineering Task Force) 에서 RFC (Request For Comment) 라는 항목으로 번호를 매겨 관리

### FTP (File Transfer Protocol)

- 보안이 좋지 않음
- port number : 20(data port), 21(command port)
- 20 port 는 active 전송시 사용하는 포트
- passive 전송시 포트는 랜덤으로 사용한다.

### FPTS

- FTP 보다는 보안이 좋음
- 공개키 암호화 방식을 사용하여 20, 21번 포트를 안전하게 암호화 한다 (TLS, SSL 을 거친다)
- 서버 공개키로 암호화하면 서버가 가진 비공개 개인키로만 암호화를 풀 수 있다.
- 장점
  - 사람이 통신을 이해하고 읽을 수 있음
  - 서버 간 파일 전송 실행을 허용
  - SSL/TLS는 강력한 인증 매커니즘 역할을 하는 X.509 인증서 기능과 함께 제공
  - 여러 인터넷 통신 인프라에 FTP및 SSL 지원이 내장되어 있다.
- 단점
  - 프로토콜에는 디렉터리 목록에 대한 표준화된 형식이 포함되어있지 않음
  - 보조 데이터 채널의 사용을 요구하므로 방화벽 뒤에서 사용이 복잡
  - 프로토콜에는 인코딩 또는 파일 이름 문자 집합에 대한 지침이 없음
  - 모든 FTP서버에서 SSL/TLS 지원을 사용할 수 있는 것은 아님
  - 프로토콜은 디렉터리 또는 파일 속성을 보호하고 수정하는 표준 방법을 정의하지 않음

### SFTP (Secure Fire Transfer Protocol)

- 22포트 사용
- ssh(Secure SHell)의 파일 전송 버전
  - ssh 는 telnet의 보안 버전
  - ssh 는 3개의 프로토콜로 이루어져있음
    - 사용자 인증 프로토콜
    - 연결 프로토콜
    - 전송층 프로토콜
- SSH의 파일 전송 버전이라고 해서 SSH 기반의 통신이 아님
  - 확장된 개념
- 장점
  - 하나의 연결만 필요하며 데이터 연결이 필요하지 않음
  - 연결이 안전하게 보호
  - SFTP는 기계가 읽을 수 있고 균일한 디렉터리 목록을 자랑
  - 프로토콜에서 제공하는 추가 기능에는 파일 잠금, 속성 조작, 권한 작업 및 더 많은 기능 포함
- 단점
  - 사람이 읽을 때 "있는 그대로" 기록할 수 없음을 의미하는 이진 통신에 관여
  - SSH 키의 유효성 검사 및 관리는 더 복잡함
  - 여러 공급업체의 소프트웨어 타이틀 간에 호환성 문제를 일으킬 수 있는 여러 SFTP 구성 "표준"이 있다.
  - 프로토콜은 서버 간 복사 외에 재귀 디렉터리에 대한 제거 작업을 제공하지 않음
  - .NET 및 VCL에는 기본적으로 SSH/SFTP 지원이 포함되어있지 않음
